{"version":3,"file":"src_app_salon_addservice_addservice_module_ts.js","mappings":"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","sources":["./src/app/salon/addservice/addservice-routing.module.ts","./src/app/salon/addservice/addservice.module.ts","./src/app/salon/addservice/addservice.page.ts","./src/app/salon/addservice/addservice.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddservicePage } from './addservice.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddservicePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddservicePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddservicePageRoutingModule } from './addservice-routing.module';\n\nimport { AddservicePage } from './addservice.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddservicePageRoutingModule\n  ],\n  declarations: [AddservicePage]\n})\nexport class AddservicePageModule {}\n","import { Component, OnInit } from '@angular/core';\r\nimport { addDoc, collection, Firestore } from '@angular/fire/firestore';\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { FirestoreService } from 'src/app/services/firestore.service';\r\n\r\n@Component({\r\n  selector: 'app-addservice',\r\n  templateUrl: './addservice.page.html',\r\n  styleUrls: ['./addservice.page.scss'],\r\n})\r\nexport class AddservicePage implements OnInit {\r\n  public cost: string = '';\r\n  public category: string = '';\r\n  public subCategory: string = '';\r\n  public salonId: string = '';\r\n  userId: any = localStorage.getItem('user');\r\n\r\n  constructor(\r\n    private firestore: Firestore,\r\n    private firestoreService: FirestoreService,\r\n    private toast: ToastController,\r\n    private router: Router\r\n  ) {}\r\n  async presentToast(message: string) {\r\n    const toast = await this.toast.create({\r\n      message: message,\r\n      duration: 2000,\r\n    });\r\n\r\n    toast.present();\r\n  }\r\n\r\n  clear() {\r\n    (this.category = ''), (this.cost = ''), (this.subCategory = '');\r\n  }\r\n  ngOnInit() {\r\n    this.getSalonData();\r\n  }\r\n  getSalonData() {\r\n    // returns the salon of a user; depends on user ID\r\n    this.firestoreService.getSalonDataByUid(this.userId).subscribe((res) => {\r\n      console.log(res);\r\n\r\n      this.salonId = res[0].id;\r\n      this.getServices(res[0].id);\r\n    });\r\n  }\r\n\r\n  // adding services\r\n  addServices() {\r\n    // validation if fields are empty\r\n    if (this.cost == '' && this.subCategory == '') {\r\n      this.presentToast('Please fill up the fields ');\r\n      this.clear();\r\n\r\n      return;\r\n    }\r\n\r\n    // validation if no salon\r\n\r\n    if (!this.salonId) {\r\n      this.presentToast('Please select a salon ');\r\n      this.clear();\r\n\r\n      return;\r\n    }\r\n\r\n    // object to be passed on firebase, please see the table and compare\r\n    let data = {\r\n      cost: this.cost,\r\n      salonId: this.salonId,\r\n      subCategory: this.subCategory,\r\n    };\r\n    // firestore database instance\r\n\r\n    const servicesInstance = collection(this.firestore, 'services');\r\n    // firebase functin for adding data to services table\r\n    addDoc(servicesInstance, data)\r\n      .then((res) => {\r\n        this.clear();\r\n        this.presentToast('Service added');\r\n\r\n        this.router.navigate(['/dashboard']);\r\n      })\r\n      .catch((err) => {\r\n        this.clear();\r\n\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // gettingServices by salon Id\r\n  async getServices(id) {\r\n    console.log(this.salonId);\r\n    // this.firestoreService.getServicesBySalonId(id).subscribe((res) => {\r\n    //   console.log(res);\r\n    // });\r\n    const services = await this.firestoreService.getServicesBySalonId(id);\r\n    console.log(services);\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>    <ion-buttons slot=\"start\">\r\n    <ion-back-button></ion-back-button>\r\n  </ion-buttons>\r\n    <ion-title>Adding Service</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-item class=\"length\">\r\n    <ion-label class=\"text-stl2\" position=\"floating\">Name of Service</ion-label>\r\n    <ion-input\r\n      class=\"blank\"\r\n      [(ngModel)]=\"subCategory\"\r\n      type=\"text\"\r\n      placeholder=\" \"\r\n    ></ion-input>\r\n  </ion-item>\r\n \r\n  <ion-item class=\"length\">\r\n    <ion-label class=\"text-stl2\" position=\"floating\">Cost</ion-label>\r\n    <ion-input\r\n      class=\"blank\"\r\n      [(ngModel)]=\"cost\"\r\n      type=\"number\"\r\n      placeholder=\" \"\r\n    ></ion-input>\r\n  </ion-item>\r\n\r\n\r\n\r\n  <button class=\"submit\" (click)=\"addServices()\">Submit</button>\r\n</ion-content>\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}